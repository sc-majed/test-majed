<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>Ø§Ù„ØªÙ‚ÙˆÙŠÙ… Ø§Ù„ØªÙØ§Ø¹Ù„ÙŠ âœ¨ ØªÙ‚ÙˆÙŠÙ… Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø±Ø³</title>
  <style>
    /* Ø¥Ø¹Ø¯Ø§Ø¯Ø§Øª Ø¹Ø§Ù…Ø© Ù„Ù„Ø¬Ø³Ù… */
    body {
      margin: 0;
      padding: 0;
      font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
      direction: rtl;
      background-color: #f7f7f7;
      color: #333;
    }
    h1, h2, h3, h4, h5, p {
      margin: 0;
      padding: 0;
    }

    /* Ø§Ù„Ù‡ÙŠØ¯Ø± */
    header {
      text-align: center;
      padding: 20px;
      background-color: #3498db;
      color: #fff;
    }
    .bismillah {
      font-size: 0.9rem; /* Ø®Ø· ØµØºÙŠØ± */
      margin-bottom: 5px;
    }
    .lesson-title {
      font-size: 1.6rem;  /* Ø®Ø· ÙƒØ¨ÙŠØ± */
      font-weight: bold;
      margin-bottom: 5px;
    }
    .after-lesson {
      font-size: 1.4rem;  /* Ø®Ø· Ø¨Ø§Ø±Ø² Ø£ÙŠØ¶Ù‹Ø§ */
      font-weight: bold;
    }

    /* Ù‚Ø³Ù… Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… */
    #nameSection {
      max-width: 500px;
      margin: 20px auto;
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #ddd;
      text-align: center;
    }
    #nameSection label {
      display: block;
      margin-bottom: 8px;
      font-size: 1rem;
    }
    #studentNameInput {
      width: 80%;
      padding: 12px;
      margin-bottom: 10px;
      font-size: 1rem;
      text-align: center;
      border: 1px solid #ccc;
      border-radius: 4px;
    }
    #startQuizBtn {
      background-color: #2ecc71;
      color: #fff;
      border: none;
      padding: 12px 20px;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 4px;
    }
    #startQuizBtn:hover {
      background-color: #27ae60;
    }
    #nameError {
      color: #e74c3c;
      margin-bottom: 10px;
      display: none; /* Ù…Ø®ÙÙŠ ÙÙŠ Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© */
      font-weight: bold;
    }

    /* Ù‚Ø³Ù… Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± */
    #quizSection {
      display: none; /* Ù…Ø®ÙÙŠ Ø­ØªÙ‰ ÙŠØ¯Ø®Ù„ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ø³Ù…Ù‡ */
      max-width: 700px;
      margin: 20px auto;
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #ddd;
      position: relative;
    }
    /* Ø§Ù„Ù…Ø¤Ù‚Øª */
    #timerContainer {
      position: absolute;
      top: 20px;
      left: 20px;
      background-color: #ffeaa7;
      color: #d35400;
      padding: 10px 15px;
      border-radius: 4px;
      font-size: 1rem;
      font-weight: bold;
    }

    .question-block {
      margin-bottom: 25px;
      padding: 15px;
      background-color: #f9fcff;
      border: 1px solid #d0e3f0;
      border-radius: 6px;
    }
    .question-block h3 {
      font-size: 1.1rem;
      color: #2c3e50;
      margin-bottom: 10px;
    }
    .options label {
      display: block;
      margin-bottom: 5px;
      cursor: pointer;
    }
    .options input[type="radio"] {
      margin-left: 5px;
    }

    /* Ø§Ù„Ø¹Ø¨Ø§Ø±Ø© Ø§Ù„ØªØ´Ø¬ÙŠØ¹ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø®Ø§Ù…Ø³ */
    #midEncouragement {
      display: none;
      margin: 15px 0;
      background-color: #dff9fb;
      border: 1px solid #c7ecee;
      padding: 10px;
      text-align: center;
      font-weight: bold;
      color: #0984e3;
      border-radius: 4px;
    }

    /* Ø§Ù„Ø¹Ø¨Ø§Ø±Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ø´Ø± */
    #endEncouragement {
      display: none;
      margin: 15px 0;
      background-color: #fff9c7;
      border: 1px solid #ffeaa7;
      padding: 10px;
      text-align: center;
      color: #e1b12c;
      border-radius: 4px;
      font-weight: bold;
    }

    .end-quiz-btn {
      background-color: #e67e22;
      color: #fff;
      border: none;
      padding: 12px 20px;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 4px;
      margin-top: 10px;
    }
    .end-quiz-btn:hover {
      background-color: #d35400;
    }

    /* Ù‚Ø³Ù… Ø§Ù„Ù†ØªÙŠØ¬Ø© */
    #resultSection {
      display: none;
      max-width: 700px;
      margin: 20px auto;
      background-color: #fff;
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #ddd;
      text-align: center;
    }
    #finalScore {
      font-size: 1.2rem;
      font-weight: bold;
      margin-bottom: 10px;
    }
    #finalMessage {
      font-size: 1rem;
      margin-bottom: 20px;
      color: #444;
    }
    .retry-btn {
      background-color: #9b59b6;
      color: #fff;
      border: none;
      padding: 10px 15px;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 4px;
      display: none; /* ÙŠØ¸Ù‡Ø± ÙÙ‚Ø· Ø¹Ù†Ø¯ Ø§Ù„Ø­Ø§Ø¬Ø© */
    }
    .retry-btn:hover {
      background-color: #8e44ad;
    }

    /* Ù‚Ø³Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© */
    #incorrectSection {
      display: none;
      max-width: 700px;
      margin: 20px auto;
      background-color: #fff8f8;
      border: 1px dashed #ff7675;
      padding: 20px;
      border-radius: 8px;
    }
    #incorrectSection h3 {
      color: #e74c3c;
      margin-top: 0;
      margin-bottom: 15px;
    }
    .incorrect-item {
      margin-bottom: 10px;
      padding: 10px;
      border-radius: 4px;
      background-color: #ffecec;
    }
    .incorrect-item span {
      color: #c0392b;
      font-weight: bold;
    }

    /* Ù‚Ø³Ù… Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© */
    #attemptsSection {
      display: none;
      max-width: 700px;
      margin: 20px auto;
      background-color: #f5f5f5;
      padding: 20px;
      border-radius: 8px;
      border: 1px solid #ddd;
    }
    #attemptsSection h3 {
      margin-top: 0;
      margin-bottom: 10px;
      color: #333;
    }
    .attempt-item {
      background-color: #fff;
      padding: 10px;
      margin-bottom: 8px;
      border-radius: 4px;
      border: 1px solid #ccc;
    }
    .attempt-item.best {
      border: 2px solid #2ecc71;
      background-color: #ecf9f0;
      color: #27ae60;
      font-weight: bold;
    }

    /* Ù‚Ø³Ù… Ø§Ù„Ø­Ø¸Ø± (Ø¥Ù† Ø§Ø³ØªÙˆÙÙ‰ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª) */
    #blockedSection {
      display: none;
      max-width: 500px;
      margin: 40px auto;
      background-color: #fce4e4;
      border: 1px solid #fdaaaa;
      color: #e74c3c;
      text-align: center;
      padding: 20px;
      border-radius: 8px;
      font-size: 1.1rem;
      font-weight: bold;
    }

    /* Ø§Ù„ÙÙˆØªØ± */
    footer {
      background-color: #3498db;
      color: #fff;
      text-align: center;
      padding: 15px;
      margin-top: 30px;
    }
    footer p {
      margin: 0;
      font-size: 1rem;
    }

  </style>
</head>
<body>

<!-- Ù‚Ø³Ù… Ø§Ù„Ø­Ø¸Ø± Ø¥Ø°Ø§ Ø§Ø³ØªÙ†ÙØ¯ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø£Ùˆ Ø­ØµÙ„ Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© -->
<div id="blockedSection"></div>

<header>
  <div class="bismillah">Ø¨Ø³Ù… Ø§Ù„Ù„Ù‡ Ø§Ù„Ø±Ø­Ù…Ù† Ø§Ù„Ø±Ø­ÙŠÙ…</div>
  <div class="lesson-title">Ø§Ù„Ø¯Ø±Ø³ Ø§Ù„Ø£ÙˆÙ„: Ù…Ù‚Ø¯Ù…Ø© Ø¹Ù† Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª</div>
  <div class="after-lesson">ØªÙ‚ÙˆÙŠÙ… Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø±Ø³ â­</div>
</header>

<!-- Ù‚Ø³Ù… Ø¥Ø¯Ø®Ø§Ù„ Ø§Ù„Ø§Ø³Ù… -->
<section id="nameSection">
  <p id="nameError"></p>
  <label for="studentNameInput">Ø£Ø¯Ø®Ù„ Ø§Ø³Ù…Ùƒ:</label>
  <input type="text" id="studentNameInput" placeholder="Ø§ÙƒØªØ¨ Ø§Ø³Ù…Ùƒ Ù‡Ù†Ø§..." />
  <br>
  <button id="startQuizBtn">Ø§Ø¨Ø¯Ø£ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… ğŸš€</button>
</section>

<!-- Ù‚Ø³Ù… Ø§Ù„Ø£Ø³Ø¦Ù„Ø© -->
<section id="quizSection">
  <div id="timerContainer">â° 05:00</div>

  <!-- Ø³Ø¤Ø§Ù„ 1 -->
  <div class="question-block">
    <h3>â“ 1. Ù…Ø§ Ø§Ù„Ù…Ù‚ØµÙˆØ¯ Ø¨Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ</h3>
    <div class="options">
      <label><input type="radio" name="q1" value="a">Ù‡ÙŠ Ø§Ù„Ø­Ù‚Ø§Ø¦Ù‚ Ø§Ù„Ø£ÙˆÙ„ÙŠØ© Ø§Ù„ØªÙŠ Ù‚Ø¯ ØªÙƒÙˆÙ† Ø£Ø±Ù‚Ø§Ù…Ø§Ù‹ Ø£Ùˆ Ø­Ø±ÙˆÙØ§Ù‹.</label>
      <label><input type="radio" name="q1" value="b">Ù‡ÙŠ ÙƒÙ„ Ù…Ø§ ÙŠØªÙ… Ø¥Ø¯Ø®Ø§Ù„Ù‡ ÙÙŠ Ø§Ù„Ø­Ø§Ø³Ø¨.</label>
      <label><input type="radio" name="q1" value="c">Ù‡ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù†ÙŠ ÙˆØ§Ù„Ù…Ø¹Ø§Ø±Ù Ø§Ù„ØªÙŠ ÙŠØ³ØªÙ†ØªØ¬Ù‡Ø§ Ø§Ù„Ø¥Ù†Ø³Ø§Ù†.</label>
      <label><input type="radio" name="q1" value="d">Ù‡ÙŠ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…ÙÙŠØ¯Ø© Ù…Ù† Ù…Ø¹Ø§Ù„Ø¬Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</label>
    </div>
  </div>

  <!-- Ø³Ø¤Ø§Ù„ 2 -->
  <div class="question-block">
    <h3>â“ 2. ØªØ¹ØªØ¨Ø± (Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª) :</h3>
    <div class="options">
      <label><input type="radio" name="q2" value="a">Ø§Ù„Ø­Ù‚Ø§Ø¦Ù‚ Ø§Ù„Ø£ÙˆÙ„ÙŠØ© ØºÙŠØ± Ø§Ù„Ù…Ø±ØªØ¨Ø·Ø© Ø¨Ø¨Ø¹Ø¶Ù‡Ø§.</label>
      <label><input type="radio" name="q2" value="b">Ø§Ù„Ù…Ø¹Ø§Ù†ÙŠ ÙˆØ§Ù„Ù…Ø¹Ø§Ø±Ù Ø§Ù„ØªÙŠ ÙŠØ³ØªÙ†ØªØ¬Ù‡Ø§ Ø§Ù„Ø¥Ù†Ø³Ø§Ù† Ø¨Ø¹Ø¯ ØªÙ†Ø¸ÙŠÙ… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª.</label>
      <label><input type="radio" name="q2" value="c">Ø£Ø±Ù‚Ø§Ù… ÙˆØ­Ø±ÙˆÙ Ù„Ø§ Ù…Ø¹Ù†Ù‰ Ù„Ù‡Ø§.</label>
      <label><input type="radio" name="q2" value="d">Ø¹Ù†Ø§ØµØ± ØºÙŠØ± Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ±ØªÙŠØ¨.</label>
    </div>
  </div>

  <!-- Ø³Ø¤Ø§Ù„ 3 -->
  <div class="question-block">
    <h3>â“ 3. ØªØ¹ØªØ¨Ø± (50ØŒ 6.25ØŒ -10) Ø£Ù…Ø«Ù„Ø© Ø¹Ù„Ù‰ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø¯Ø¯ÙŠØ©.</h3>
    <div class="options">
      <label><input type="radio" name="q3" value="true">ØµÙˆØ§Ø¨</label>
      <label><input type="radio" name="q3" value="false">Ø®Ø·Ø£</label>
    </div>
  </div>

  <!-- Ø³Ø¤Ø§Ù„ 4 -->
  <div class="question-block">
    <h3>â“ 4. Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ ÙˆØ§Ù„Ø±Ù‚Ù… Ø§Ù„ÙˆØ·Ù†ÙŠ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø¯Ø¯ÙŠØ© ÙÙ‚Ø·.</h3>
    <div class="options">
      <label><input type="radio" name="q4" value="true">ØµÙˆØ§Ø¨</label>
      <label><input type="radio" name="q4" value="false">Ø®Ø·Ø£</label>
    </div>
  </div>

  <!-- Ø³Ø¤Ø§Ù„ 5 -->
  <div class="question-block">
    <h3>â“ 5. Ø£ÙŠÙŒ Ù…Ù…Ø§ ÙŠÙ„ÙŠ ÙŠØµÙ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¨Ø¬Ø¯ÙŠØ© Ø§Ù„Ø¹Ø¯Ø¯ÙŠØ©ØŸ</h3>
    <div class="options">
      <label><input type="radio" name="q5" value="a">ØªØªØ¶Ù…Ù† Ø§Ù„Ø­Ø±ÙˆÙ ÙÙ‚Ø·</label>
      <label><input type="radio" name="q5" value="b">ØªØªØ¶Ù…Ù† Ø§Ù„Ø£Ø±Ù‚Ø§Ù… ÙÙ‚Ø·</label>
      <label><input type="radio" name="q5" value="c">ØªØªØ¶Ù…Ù† Ø§Ù„Ø­Ø±ÙˆÙ ÙˆØ§Ù„Ø£Ø±Ù‚Ø§Ù… Ù…Ø¹Ø§Ù‹</label>
      <label><input type="radio" name="q5" value="d">Ù„Ø§ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£ÙŠ ÙØ±Ø§ØºØ§Øª</label>
    </div>
  </div>

  <!-- Ø¹Ø¨Ø§Ø±Ø© ØªØ´Ø¬ÙŠØ¹ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø®Ø§Ù…Ø³ -->
  <div id="midEncouragement"></div>

  <!-- Ø³Ø¤Ø§Ù„ 6 -->
  <div class="question-block">
    <h3>â“ 6. Ù…Ø§ Ø§Ø³Ù… Ø§Ù„Ù†ÙˆØ¹ Ø§Ù„Ø°ÙŠ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø­Ø±ÙˆÙ ÙˆØ£Ø±Ù‚Ø§Ù… ÙˆØ±Ù…ÙˆØ² Ø®Ø§ØµØ© Ù…Ø«Ù„: %ØŒ#ØŒ@ ØŸ</h3>
    <div class="options">
      <label><input type="radio" name="q6" value="a">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¹Ø¯Ø¯ÙŠØ©</label>
      <label><input type="radio" name="q6" value="b">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¨Ø¬Ø¯ÙŠØ©</label>
      <label><input type="radio" name="q6" value="c">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø£Ø¨Ø¬Ø¯ÙŠØ© Ø§Ù„Ø¹Ø¯Ø¯ÙŠØ©</label>
      <label><input type="radio" name="q6" value="d">Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„ØµÙˆØªÙŠØ©</label>
    </div>
  </div>

  <!-- Ø³Ø¤Ø§Ù„ 7 -->
  <div class="question-block">
    <h3>â“ 7. Ø¹Ù†Ø¯ Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø¬Ø¯ÙˆÙ„ (Ø§Ù„Ø§Ø³Ù…ØŒ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø§Ù„ÙˆØ·Ù†ÙŠØŒ Ø§Ù„Ù‡Ø§ØªÙØŒ Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ)ØŒ ÙŠÙØ·Ù„Ù‚ Ø¹Ù„Ù‰ ÙƒÙ„ Ø­Ù‚Ù„ (Ø³Ø¬Ù„).</h3>
    <div class="options">
      <label><input type="radio" name="q7" value="true">ØµÙˆØ§Ø¨</label>
      <label><input type="radio" name="q7" value="false">Ø®Ø·Ø£</label>
    </div>
  </div>

  <!-- Ø³Ø¤Ø§Ù„ 8 -->
  <div class="question-block">
    <h3>â“ 8. Ø£ÙŠÙŒ Ù…Ù…Ø§ ÙŠÙ„ÙŠ ÙŠØ¹Ø¯ Ù…Ø«Ø§Ù„Ø§Ù‹ Ø¹Ù„Ù‰ (Ø³Ø¬Ù„) ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§ØªØŸ</h3>
    <div class="options">
      <label><input type="radio" name="q8" value="a">Ø§Ù„Ø§Ø³Ù…</label>
      <label><input type="radio" name="q8" value="b">Ø¬Ø§Ø¨Ø±</label>
      <label><input type="radio" name="q8" value="c">(Ø¬Ø§Ø¨Ø± - RBDD**32 - 05****** - jaber**@outlook.com)</label>
      <label><input type="radio" name="q8" value="d">Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
    </div>
  </div>

  <!-- Ø³Ø¤Ø§Ù„ 9 -->
  <div class="question-block">
    <h3>â“ 9. Ø§Ù„Ø¹Ù…ÙˆØ¯ ÙÙŠ Ø§Ù„Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ø°ÙŠ ÙŠÙˆØ¶Ù‘Ø­ Ù†ÙˆØ¹Ø§Ù‹ ÙˆØ§Ø­Ø¯Ø§Ù‹ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª (Ù…Ø«Ù„ Ø§Ù„Ø§Ø³Ù… Ø£Ùˆ Ø§Ù„Ø¹Ù†ÙˆØ§Ù† Ø£Ùˆ Ø§Ù„Ù‡Ø§ØªÙ) ÙŠØ³Ù…Ù‰:</h3>
    <div class="options">
      <label><input type="radio" name="q9" value="a">Ø­Ù‚Ù„</label>
      <label><input type="radio" name="q9" value="b">Ø³Ø¬Ù„</label>
      <label><input type="radio" name="q9" value="c">Ø¬Ø¯ÙˆÙ„</label>
      <label><input type="radio" name="q9" value="d">Ù‚Ø§Ø¹Ø¯Ø© Ø¨ÙŠØ§Ù†Ø§Øª</label>
    </div>
  </div>

  <!-- Ø³Ø¤Ø§Ù„ 10 -->
  <div class="question-block">
    <h3>â“ 10. Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù‚Ø¯ ØªØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø£ÙƒØ«Ø± Ù…Ù† Ø¬Ø¯ÙˆÙ„ØŒ ÙˆÙƒÙ„ Ø¬Ø¯ÙˆÙ„ ÙŠØ­ØªÙˆÙŠ Ø¹Ù„Ù‰ Ø¹Ø¯Ø© Ø³Ø¬Ù„Ø§Øª ÙˆØ¹Ø¯Ø© Ø­Ù‚ÙˆÙ„.</h3>
    <div class="options">
      <label><input type="radio" name="q10" value="true">ØµÙˆØ§Ø¨</label>
      <label><input type="radio" name="q10" value="false">Ø®Ø·Ø£</label>
    </div>
  </div>

  <!-- Ø¹Ø¨Ø§Ø±Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ø´Ø± -->
  <div id="endEncouragement"></div>

  <button class="end-quiz-btn" id="endQuizBtn">Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªÙ‚ÙˆÙŠÙ… ğŸ</button>
</section>

<!-- Ù‚Ø³Ù… Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© -->
<section id="resultSection">
  <div id="finalScore"></div>
  <div id="finalMessage"></div>
  <button class="retry-btn" id="retryBtn"></button>
</section>

<!-- Ø¹Ø±Ø¶ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø© ÙˆØ§Ù„Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ø®Ø§Ø·Ø¦Ø© -->
<section id="incorrectSection">
  <h3>Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„ØªÙŠ Ø£Ø®Ø·Ø£Øª ÙÙŠÙ‡Ø§:</h3>
  <div id="incorrectContainer"></div>
</section>

<!-- Ù‚Ø³Ù… Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø© -->
<section id="attemptsSection">
  <h3>Ù…Ø­Ø§ÙˆÙ„Ø§ØªÙƒ Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©:</h3>
  <div id="attemptsContainer"></div>
</section>

<footer>
  <p>Ù…Ø¹Ù„Ù… Ø§Ù„Ù…Ù‡Ø§Ø±Ø§Øª Ø§Ù„Ø±Ù‚Ù…ÙŠØ©/ Ù…Ø§Ø¬Ø¯ Ø§Ù„Ø¹ØªÙŠØ¨ÙŠ ğŸ¤</p>
</footer>

<script>
// ========================
// Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙˆØ¥Ø¬Ø§Ø¨Ø§ØªÙ‡Ø§
// ========================
const correctAnswers = [
  "a",      // 1
  "b",      // 2
  "true",   // 3
  "false",  // 4
  "c",      // 5
  "c",      // 6
  "false",  // 7
  "c",      // 8
  "a",      // 9
  "true"    // 10
];

// ========================
// Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù€ DOM
// ========================
const blockedSection     = document.getElementById("blockedSection");
const nameSection        = document.getElementById("nameSection");
const nameError          = document.getElementById("nameError");
const studentNameInput   = document.getElementById("studentNameInput");
const startQuizBtn       = document.getElementById("startQuizBtn");

const quizSection        = document.getElementById("quizSection");
const timerContainer     = document.getElementById("timerContainer");
const endQuizBtn         = document.getElementById("endQuizBtn");

const midEncouragement   = document.getElementById("midEncouragement");
const endEncouragement   = document.getElementById("endEncouragement");

const resultSection      = document.getElementById("resultSection");
const finalScoreEl       = document.getElementById("finalScore");
const finalMessageEl     = document.getElementById("finalMessage");
const retryBtn           = document.getElementById("retryBtn");

const incorrectSection   = document.getElementById("incorrectSection");
const incorrectContainer = document.getElementById("incorrectContainer");

const attemptsSection    = document.getElementById("attemptsSection");
const attemptsContainer  = document.getElementById("attemptsContainer");

// ========================
// Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ù…ØªØºÙŠØ±Ø§Øª Ø§Ù„Ø¹Ø§Ù…Ø©
// ========================
const maxAttempts    = 3;
const totalQuizTime  = 5 * 60; // 5 Ø¯Ù‚Ø§Ø¦Ù‚ Ø¨Ø§Ù„Ø«ÙˆØ§Ù†ÙŠ = 300
let timerInterval    = null;
let quizStartTime    = 0;
let isTimeUp         = false;
let studentName      = "";

// Ù…ÙØ§ØªÙŠØ­ Ø§Ù„ØªØ®Ø²ÙŠÙ† ÙÙŠ LocalStorage
const ATTEMPTS_KEY   = "quizAttemptsData_vEmoji";
const STUDENT_NAME_KEY = "quizStudentName_vEmoji";

let attemptsData = loadAttemptsData() || { attempts: [], bestScore: 0 };

// ========================
// Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø³Ø§Ø¹Ø¯Ø©
// ========================
function loadAttemptsData() {
  let data = localStorage.getItem(ATTEMPTS_KEY);
  if (data) return JSON.parse(data);
  return null;
}
function saveAttemptsData() {
  localStorage.setItem(ATTEMPTS_KEY, JSON.stringify(attemptsData));
}
function saveStudentName(name) {
  localStorage.setItem(STUDENT_NAME_KEY, name);
}
function loadStudentName() {
  return localStorage.getItem(STUDENT_NAME_KEY) || "";
}

// Ù…Ù†Ø¹ Ø§Ù„Ø¯Ø®ÙˆÙ„ ÙÙŠ Ø­Ø§Ù„ Ø§Ø³ØªÙ†ÙØ¯ Ø§Ù„Ø·Ø§Ù„Ø¨ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø«Ù„Ø§Ø« Ø£Ùˆ Ø­ØµÙ„ Ø¹Ù„Ù‰ 10/10
function checkBlocked() {
  if (attemptsData.bestScore === 10 || attemptsData.attempts.length >= maxAttempts) {
    // Ø¹Ø±Ø¶ Ø±Ø³Ø§Ù„Ø© Ù…Ù†Ø¹ Ù…Ø±ÙÙ‚Ø© Ø¨Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨ (Ø¥Ù† ÙˆØ¬Ø¯)
    const savedName = loadStudentName();
    let blockName = savedName ? savedName : "Ø§Ù„Ø·Ø§Ù„Ø¨";
    blockedSection.style.display = "block";
    blockedSection.textContent = `Ø¹Ø°Ø±Ù‹Ø§ ÙŠØ§ ${blockName} ğŸš«ØŒ Ù„Ø§ ÙŠÙ…ÙƒÙ†Ùƒ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!`;

    nameSection.style.display    = "none";
    quizSection.style.display    = "none";
    resultSection.style.display  = "none";
    incorrectSection.style.display = "none";
    attemptsSection.style.display = "none";
    return true;
  }
  return false;
}

// ØªÙ‡ÙŠØ¦Ø© Ø§Ù„ØµÙØ­Ø©
(function initPage() {
  if (checkBlocked()) return;

  let savedName = loadStudentName();
  if (savedName) {
    studentNameInput.value = savedName;
  }
  nameSection.style.display = "block";
})();

// ========================
// Ø¨Ø¯Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
// ========================
startQuizBtn.addEventListener("click", () => {
  studentName = studentNameInput.value.trim();
  if (studentName === "") {
    nameError.style.display = "block";
    nameError.textContent = "âš ï¸ Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø§Ø³Ù…Ùƒ Ø£ÙˆÙ„Ø§Ù‹!";
    return;
  }
  nameError.style.display = "none";
  saveStudentName(studentName);

  // Ø¥Ø®ÙØ§Ø¡ Ù‚Ø³Ù… Ø§Ù„Ø§Ø³Ù… Ùˆ Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
  nameSection.style.display = "none";
  quizSection.style.display = "block";

  // Ø¨Ø¯Ø¡ Ø§Ù„Ù…Ø¤Ù‚Øª
  startTimer(totalQuizTime);
  quizStartTime = Date.now();
});

// ========================
// Ø§Ù„Ù…Ø¤Ù‚Øª
// ========================
function startTimer(seconds) {
  let timeLeft = seconds;
  timerInterval = setInterval(() => {
    timeLeft--;
    updateTimerDisplay(timeLeft);

    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      isTimeUp = true;
      submitQuiz(); // Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø± ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§
    }
  }, 1000);
}

function updateTimerDisplay(timeInSec) {
  let min = Math.floor(timeInSec / 60);
  let sec = timeInSec % 60;
  if (sec < 10) sec = "0" + sec;
  if (min < 10) min = "0" + min;
  timerContainer.textContent = `â±ï¸ ${min}:${sec}`;

  // Ø¹Ø¨Ø§Ø±Ø© ØªØ´Ø¬ÙŠØ¹ÙŠØ© Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø®Ø§Ù…Ø³
  midEncouragement.textContent = `Ø£Ø­Ø³Ù†Øª ÙŠØ§ ${studentName}! ØªØ§Ø¨Ø¹ ØªÙ‚Ø¯Ù‘Ù…Ùƒ! ğŸ™Œ`;
  midEncouragement.style.display = "block";

  // Ø¹Ø¨Ø§Ø±Ø© Ø¨Ø¹Ø¯ Ø§Ù„Ø³Ø¤Ø§Ù„ Ø§Ù„Ø¹Ø§Ø´Ø±
  endEncouragement.textContent = `Ù„Ù‚Ø¯ Ø§Ù†ØªÙ‡ÙŠØª Ù…Ù† Ø­Ù„ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø³Ø¦Ù„Ø© ÙŠØ§ ${studentName} ğŸ. ØªØ³ØªØ·ÙŠØ¹ Ø§Ù„Ø¢Ù† Ø§Ù„Ø¶ØºØ· Ø¹Ù„Ù‰ Ø²Ø± (Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„ØªÙ‚ÙˆÙŠÙ…)ØŒ ÙˆÙ„ÙƒÙ† Ù‚Ø¨Ù„ Ø°Ù„Ùƒ Ø±Ø§Ø¬Ø¹ Ø¥Ø¬Ø§Ø¨Ø§ØªÙƒ Ø¬ÙŠØ¯Ù‹Ø§ âœ….`;
  endEncouragement.style.display = "block";
}

// ========================
// Ø¥Ù†Ù‡Ø§Ø¡ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±
// ========================
endQuizBtn.addEventListener("click", () => {
  isTimeUp = false;
  clearInterval(timerInterval);
  submitQuiz();
});

function submitQuiz() {
  quizSection.style.display = "none";

  // Ø¬Ù…Ø¹ Ø¥Ø¬Ø§Ø¨Ø§Øª Ø§Ù„Ø·Ø§Ù„Ø¨
  let userAnswers = [];
  for (let i = 1; i <= 10; i++) {
    let options = document.getElementsByName("q" + i);
    let chosen = null;
    for (let opt of options) {
      if (opt.checked) {
        chosen = opt.value;
        break;
      }
    }
    userAnswers.push(chosen);
  }

  // Ø­Ø³Ø§Ø¨ Ø§Ù„Ø¯Ø±Ø¬Ø©
  let score = 0;
  let wrongAnswers = [];
  for (let i = 0; i < correctAnswers.length; i++) {
    if (userAnswers[i] === correctAnswers[i]) {
      score++;
    } else {
      wrongAnswers.push({
        questionNumber: i + 1,
        chosenAnswer: userAnswers[i]
      });
    }
  }

  // Ø­Ø³Ø§Ø¨ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªØºØ±Ù‚
  let endTime = Date.now();
  let timeUsedSec = Math.floor((endTime - quizStartTime) / 1000);

  // ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
  attemptsData.attempts.push({ score, timeUsedSec });
  if (score > attemptsData.bestScore) {
    attemptsData.bestScore = score;
  }
  saveAttemptsData();

  // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø©
  showResult(score, wrongAnswers, timeUsedSec);

  // ØªØ­Ø¯ÙŠØ« ÙˆØ¥Ø¸Ù‡Ø§Ø± Ù‚Ø³Ù… Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª
  updateAttemptsSection();
  attemptsSection.style.display = "block";

  // Ø§Ù„ØªÙ…Ø±ÙŠØ± Ù„Ù„Ù†ØªÙŠØ¬Ø© Ù…Ø¨Ø§Ø´Ø±Ø©
  resultSection.scrollIntoView({ behavior: "smooth" });
}

// ========================
// Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªÙŠØ¬Ø© ÙˆØ§Ù„Ø±Ø³Ø§Ø¦Ù„
// ========================
function showResult(score, wrongAnswers, timeUsedSec) {
  resultSection.style.display = "block";

  finalScoreEl.textContent = `Ø¯Ø±Ø¬ØªÙƒ ÙŠØ§ ${studentName} Ù‡ÙŠ: ${score} Ù…Ù† 10 ğŸ‰`;

  let msg = "";
  if (score <= 4) {
    msg = `ÙŠÙ…ÙƒÙ†Ùƒ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ ÙŠØ§ ${studentName} ğŸ™ØŒ ÙˆØ³ØªØªØ­Ø³Ù† Ø¨Ø¥Ø°Ù† Ø§Ù„Ù„Ù‡!`;
  } else if (score <= 7) {
    msg = `Ù…Ø³ØªÙˆÙ‰ Ø¬ÙŠØ¯ ÙŠØ§ ${studentName} ğŸ™‚ØŒ ÙˆÙ„ÙƒÙ† ØªØ³ØªØ·ÙŠØ¹ Ø§Ù„ÙˆØµÙˆÙ„ Ù„Ù„Ø£ÙØ¶Ù„!`;
  } else if (score <= 9) {
    msg = `Ø£Ø­Ø³Ù†Øª ÙŠØ§ ${studentName}! Ø£Ø¯Ø§Ø¡ Ù…Ù…ÙŠØ² Ø¬Ø¯Ø§Ù‹ ğŸ”¥`;
  } else {
    msg = `Ø¥Ø¨Ø¯Ø§Ø¹ ÙŠØ§ ${studentName}! Ù„Ù‚Ø¯ Ø­ØµÙ„Øª Ø¹Ù„Ù‰ Ø§Ù„Ø¯Ø±Ø¬Ø© Ø§Ù„ÙƒØ§Ù…Ù„Ø© ğŸ†ğŸ‰`;
  }
  finalMessageEl.textContent = msg;

  // Ø§Ù„Ø£Ø³Ø¦Ù„Ø© Ø§Ù„Ø®Ø§Ø·Ø¦Ø©
  if (score < 10) {
    incorrectSection.style.display = "block";
    incorrectContainer.innerHTML = "";
    if (wrongAnswers.length === 0) {
      incorrectContainer.innerHTML = "<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ø®Ø·Ø§Ø¡ Ù…Ø³Ø¬Ù„Ø©!</p>";
    } else {
      wrongAnswers.forEach(item => {
        let qNum = item.questionNumber;
        let chosen = item.chosenAnswer;
        let chosenText = chosen ? `Ø¥Ø¬Ø§Ø¨ØªÙƒ: <span>${chosen}</span>` : `<span>Ù„Ù… ØªØ®ØªØ± Ø´ÙŠØ¦Ø§Ù‹</span>`;

        let div = document.createElement("div");
        div.classList.add("incorrect-item");
        div.innerHTML = `
          <strong>Ø§Ù„Ø³Ø¤Ø§Ù„ Ø±Ù‚Ù… ${qNum}:</strong><br>
          ${chosenText} <span>âŒ</span>
        `;
        incorrectContainer.appendChild(div);
      });
    }
  } else {
    // Ø§Ù„Ø¯Ø±Ø¬Ø© ÙƒØ§Ù…Ù„Ø©
    incorrectSection.style.display = "none";
  }

  // Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
  let attemptsCount = attemptsData.attempts.length;
  if (score === 10 || attemptsCount >= maxAttempts) {
    retryBtn.style.display = "none";
  } else {
    retryBtn.style.display = "inline-block";
    retryBtn.textContent = `ğŸ”„ Ù‡Ù„ ØªØ±ØºØ¨ ÙÙŠ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© ÙŠØ§ ${studentName}ØŸ`;
  }
}

// ========================
// Ø²Ø± Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø©
// ========================
retryBtn.addEventListener("click", () => {
  if (checkBlocked()) return;

  resultSection.style.display    = "none";
  incorrectSection.style.display = "none";

  // Ø¥Ø¹Ø§Ø¯Ø© Ø¶Ø¨Ø· Ø§Ù„Ø£Ø³Ø¦Ù„Ø©
  for (let i = 1; i <= 10; i++) {
    let options = document.getElementsByName("q" + i);
    for (let opt of options) {
      opt.checked = false;
    }
  }

  isTimeUp = false;
  startTimer(totalQuizTime);
  quizStartTime = Date.now();

  quizSection.style.display = "block";
});

// ========================
// Ø¹Ø±Ø¶ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø§Øª Ø§Ù„Ø³Ø§Ø¨Ù‚Ø©
// ========================
function updateAttemptsSection() {
  attemptsContainer.innerHTML = "";
  attemptsData.attempts.forEach((att, idx) => {
    let div = document.createElement("div");
    div.className = "attempt-item";
    if (att.score === attemptsData.bestScore) {
      // Ø¥Ø¨Ø±Ø§Ø² Ø£ÙØ¶Ù„ Ù†ØªÙŠØ¬Ø©
      div.classList.add("best");
    }
    let minutes = Math.floor(att.timeUsedSec / 60);
    let seconds = att.timeUsedSec % 60;
    let timeUsedStr = `${minutes} Ø¯Ù‚ÙŠÙ‚Ø© Ùˆ ${seconds} Ø«Ø§Ù†ÙŠØ©`;

    // Ø¥Ø¸Ù‡Ø§Ø± Ø§Ù„Ø¯Ø±Ø¬Ø© + Ø£ÙØ¶Ù„ Ù†ØªÙŠØ¬Ø© Ø¨Ø±Ù…Ø² ğŸ…
    let bestNote = (att.score === attemptsData.bestScore) ? " ğŸ…" : "";
    div.textContent = `Ù…Ø­Ø§ÙˆÙ„Ø© ${idx + 1} - Ø§Ù„Ø¯Ø±Ø¬Ø©: ${att.score}/10${bestNote}ØŒ Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø³ØªØºØ±Ù‚: ${timeUsedStr}`;
    attemptsContainer.appendChild(div);
  });
}
</script>
</body>
</html>
